id: core-task-manager-missing-info
name: "Task Manager: Missing Information - Request Clarification"
description: |
  Tests the task-manager's Missing Information response when details are
  insufficient to create JSON tasks.
  
  Validates:
  - Returns Missing Information section
  - Provides Suggested Prompt for the caller
  - Avoids file creation when details are missing
category: developer

prompts:
  - text: |
      Break down the feature "audit-logging" into JSON subtasks.

      Only create tasks if enough information is provided.
      If details are missing, respond with the Missing Information format and do NOT call ContextScout.

approvalStrategy:
  type: auto-approve

behavior:
  mustUseTools:
    - read
    - bash
  mustNotUseTools:
    - write
    - task
  requiresContext: true
  expectedContextFiles:
    - .opencode/context/core/task-management/navigation.md
    - .opencode/context/core/task-management/standards/task-schema.md
    - .opencode/context/core/task-management/guides/splitting-tasks.md
    - .opencode/context/core/task-management/guides/managing-tasks.md
  expectedResponse:
    contains:
      - "Missing Information"
      - "Suggested Prompt"
  minToolCalls: 2
  maxToolCalls: 8

timeout: 120000

tags:
  - task-manager
  - missing-info
  - planning
  - core-subagent
